# =============================================================================
# Local / Development Configuration
# =============================================================================
# Used by: docker compose (dev mode) and local development
# Usage:   ./scripts/start.sh            (defaults to dev)
#          ./scripts/start.sh --dev      (explicit dev)

NODE_ENV=development

# ─── Ports ───────────────────────────────────────────────────────────────────
# Host ports (mapped from container → host)
DB_PORT=5432
DB_REPLICA_PORT=5433
REDIS_EXTERNAL_PORT=6379
API_EXTERNAL_PORT=3000
BROWSER_SERVICE_EXTERNAL_PORT=3001

# Internal container ports
API_PORT=3000
REDIS_PORT=6379
BROWSER_SERVICE_PORT=3001

# ─── Database (Primary) ─────────────────────────────────────────────────────
POSTGRES_USER=catchy_dev
POSTGRES_PASSWORD=catchy_dev_password
POSTGRES_DB=catchy_development

# ─── Database (Replica) ─────────────────────────────────────────────────────
REPLICATOR_USER=replicator
REPLICATOR_PASSWORD=replicator_dev_password

# Connection URLs (using docker service names)
DATABASE_URL="postgresql://catchy_dev:catchy_dev_password@db:5432/catchy_development?schema=public"
DATABASE_REPLICA_URL="postgresql://catchy_dev:catchy_dev_password@db-replica:5432/catchy_development?schema=public"

# ─── Redis ───────────────────────────────────────────────────────────────────
REDIS_HOST=redis

# ─── API ─────────────────────────────────────────────────────────────────────
API_KEY=dev-api-key-change-in-production
JWT_SECRET=dev-jwt-secret-change-in-production
SECRET_SALT=dev-salt-change-in-production
GEMINI_API_KEY=your_gemini_api_key

# ─── Email ───────────────────────────────────────────────────────────────────
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@example.com
EMAIL_PASS=your_email_app_password

# ─── Worker ──────────────────────────────────────────────────────────────────
WORKER_CONCURRENCY=4

# ─── Browser Service ─────────────────────────────────────────────────────────
BROWSER_SERVICE_HOST=browser-service
BROWSER_SERVICE_API_KEY=dev-internal-service-key
BROWSER_COUNT=1
BROWSER_HEADLESS=true
BROWSER_TIMEOUT_MS=30000

# ─── Proxy ───────────────────────────────────────────────────────────────────
PROXY_PROVIDER=fake
FAKE_PROXY_COST_PER_MB=0.001
FAKE_PROXY_FAILURE_RATE=0.05
